<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Scrapbook Wrapped</title>

  <style>
    :root{
      /* Solid pink background for now */
      --bg: #f7c7d9;

      --ink: rgba(25, 18, 22, 0.92);
      --muted: rgba(25, 18, 22, 0.62);

      --paper: rgba(255,255,255,0.32);
      --border: rgba(25, 18, 22, 0.12);

      --shadow: 0 24px 70px rgba(0,0,0,0.22);
      --shadow2: 0 18px 40px rgba(0,0,0,0.18);

      --radius-xl: 26px;
      --radius-lg: 18px;

      --maxw: 1180px;
      --ease: cubic-bezier(.22, 1, .36, 1);
      --t: 520ms;
    }

    *{ box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin: 0;
      background: var(--bg);
      color: var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      overflow: hidden;
    }

    /* Optional soft wash so the background isn’t flat */
    .paperWash{
      pointer-events: none;
      position: fixed;
      inset: 0;
      background:
        radial-gradient(1200px 700px at 18% 10%, rgba(255,255,255,0.26), transparent 60%),
        radial-gradient(900px 700px at 85% 15%, rgba(255,255,255,0.18), transparent 55%),
        radial-gradient(700px 600px at 55% 90%, rgba(255,255,255,0.16), transparent 60%);
      mix-blend-mode: soft-light;
      opacity: 0.7;
    }

    /* The scrapbook area now fills the page */
    .scrapbook{
      position: relative;
      height: 100%;
      width: 100%;
      display: grid;
      place-items: center;
      padding: 18px;
    }

    /* This is the ONLY “innermost box” */
    .pageFrame{
      width: min(var(--maxw), 100%);
      height: min(820px, calc(100vh - 64px));
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      background: rgba(255,255,255,0.22);
      box-shadow: var(--shadow);
      overflow: hidden;
      position: relative;
      backdrop-filter: blur(10px);
    }

    /* Slides container */
    .slides{
      position: absolute;
      inset: 0;
      overflow: hidden;
    }

    /* Page transitions (page lift) */
    .page{
      position: absolute;
      inset: 0;
      padding: 16px;
      opacity: 0;
      transform: translateY(18px) scale(0.985);
      filter: blur(2px);
      pointer-events: none;

      transition:
        opacity var(--t) var(--ease),
        transform var(--t) var(--ease),
        filter var(--t) var(--ease);
    }

    .page.active{
      opacity: 1;
      transform: translateY(0) scale(1);
      filter: blur(0);
      pointer-events: auto;
    }

    .page.exiting{
      opacity: 0;
      transform: translateY(-16px) scale(0.985);
      filter: blur(2px);
      pointer-events: none;
    }

    /* The content card inside each page */
    .panel{
      height: 100%;
      border: 1px solid rgba(25, 18, 22, 0.12);
      background: rgba(255,255,255,0.30);
      border-radius: var(--radius-xl);
      padding: 14px;
      box-shadow: var(--shadow2);
      overflow: hidden;
      min-height: 0;
      display: grid;
    }

    /* Title page inside panel */
    .titleCard{
      height: 100%;
      display: grid;
      place-items: center;
      text-align: center;
      padding: 18px;
    }
    .titleCard .big{
      font-size: clamp(34px, 5vw, 56px);
      font-weight: 950;
      letter-spacing: -1.4px;
      line-height: 1.02;
      margin: 0;
    }
    .titleCard .small{
      margin-top: 10px;
      font-size: 13px;
      color: var(--muted);
      line-height: 1.5;
      max-width: 70ch;
    }
    .titleCard .startPill{
      margin-top: 18px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,0.54);
      border: 1px solid rgba(25, 18, 22, 0.12);
      color: rgba(25,18,22,0.86);
      font-weight: 850;
      font-size: 12px;
      user-select: none;
    }

    /* Boards grid (mixed aspect ratios) */
    .boardGrid{
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(12, 1fr);
      grid-auto-rows: 110px;
      height: 100%;
      min-height: 0;
      align-content: start;
    }

    @media (max-width: 980px){
      .pageFrame{ height: min(860px, calc(100vh - 64px)); }
      .boardGrid{ grid-auto-rows: 96px; }
    }
    @media (max-width: 760px){
      .boardGrid{ grid-auto-rows: 88px; }
    }

    .board{
      grid-column: span 6;
      grid-row: span 3;
      position: relative;
      border-radius: var(--radius-lg);
      overflow: hidden;
      border: 1px solid rgba(25, 18, 22, 0.12);
      background: rgba(255,255,255,0.24);
      cursor: zoom-in;

      transform: translateZ(0);
      transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
    }
    .board:hover{
      transform: translateY(-2px);
      box-shadow: 0 14px 34px rgba(0,0,0,0.18);
      border-color: rgba(25, 18, 22, 0.20);
    }

    /* Size variants */
    .w4{ grid-column: span 4; }
    .w5{ grid-column: span 5; }
    .w6{ grid-column: span 6; }
    .w7{ grid-column: span 7; }
    .w8{ grid-column: span 8; }
    .h3{ grid-row: span 3; }
    .h4{ grid-row: span 4; }
    .h5{ grid-row: span 5; }

    /* Mobile: stack boards */
    @media (max-width: 760px){
      .board{ grid-column: span 12 !important; grid-row: span 4 !important; }
    }

    .board img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .board .tag{
      position: absolute;
      left: 10px;
      bottom: 10px;
      font-size: 12px;
      font-weight: 800;
      letter-spacing: -0.2px;
      color: rgba(25,18,22,0.92);
      background: rgba(255,255,255,0.70);
      border: 1px solid rgba(25, 18, 22, 0.10);
      padding: 7px 10px;
      border-radius: 999px;
      backdrop-filter: blur(8px);
      user-select: none;
    }

    /* =================
       Left/Right arrows
       ================= */
    .navArrow{
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 46px;
      height: 46px;
      border-radius: 999px;
      border: 1px solid rgba(25, 18, 22, 0.18);
      background: rgba(255,255,255,0.58);
      box-shadow: 0 14px 34px rgba(0,0,0,0.14);
      display: grid;
      place-items: center;
      cursor: pointer;
      user-select: none;
      z-index: 50;
      transition: transform 150ms ease, background 150ms ease, border-color 150ms ease, opacity 150ms ease;
    }
    .navArrow:hover{
      background: rgba(255,255,255,0.74);
      border-color: rgba(25, 18, 22, 0.24);
      transform: translateY(-50%) scale(1.03);
    }
    .navArrow:active{
      transform: translateY(-50%) scale(0.99);
    }

    .navArrow.left{ left: 14px; }
    .navArrow.right{ right: 14px; }

    .navArrow[disabled]{
      opacity: 0.35;
      cursor: default;
      pointer-events: none;
    }

    .navArrow svg{
      width: 20px;
      height: 20px;
      fill: none;
      stroke: rgba(25,18,22,0.88);
      stroke-width: 3;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    /* ================
       Board Zoom Modal
       ================ */
    .overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.00);
      opacity: 0;
      pointer-events: none;
      transition: opacity 260ms ease, background 260ms ease;
      z-index: 1000;
    }
    .overlay.open{
      opacity: 1;
      pointer-events: auto;
      background: rgba(0,0,0,0.10); /* subtle highlight */
    }

    .zoomImg{
      position: fixed;
      z-index: 1001;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 34px 90px rgba(0,0,0,0.30);
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.08);

      will-change: transform, width, height, top, left;
      transition:
        top 520ms var(--ease),
        left 520ms var(--ease),
        width 520ms var(--ease),
        height 520ms var(--ease),
        transform 520ms var(--ease);
      cursor: zoom-out;
    }
    .zoomImg img{
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      background: rgba(0,0,0,0.06);
    }

    /* Optional tiny progress (can delete if you want zero UI) */
    .cornerProg{
      position: absolute;
      right: 16px;
      bottom: 14px;
      font-size: 12px;
      color: rgba(25,18,22,0.58);
      background: rgba(255,255,255,0.52);
      border: 1px solid rgba(25,18,22,0.12);
      padding: 8px 10px;
      border-radius: 999px;
      backdrop-filter: blur(8px);
      z-index: 40;
      user-select: none;
    }
  </style>
</head>

<body>
  <div class="paperWash"></div>

  <main class="scrapbook">
    <!-- ONLY the scrapbook inner box -->
    <section class="pageFrame" id="pageFrame">
      <div class="slides" id="slides">

        <!-- PAGE 1: Title -->
        <section class="page active" data-title="Cover">
          <div class="panel">
            <div class="titleCard">
              <div>
                <h1 class="big" contenteditable="true">2025<br/>Wrapped</h1>
                <div class="small" contenteditable="true">
                  Click any board to zoom in.<br/>
                  Use the arrows (or ← → keys) to turn pages.
                </div>
                <div class="startPill" contenteditable="true">Next →</div>
              </div>
            </div>
          </div>
        </section>

        <!-- PAGE 2: Style boards -->
        <section class="page" data-title="Style">
          <div class="panel">
            <div class="boardGrid">
              <figure class="board w7 h5" data-src="assets/ZeeNYBoardVogue.png">
                <img src="assets/ZeeNYBoardVogue.png" alt="Board: Vogue" />
                <figcaption class="tag" contenteditable="true">EN NOIR</figcaption>
              </figure>

              <figure class="board w5 h5" data-src="assets/ZeeNYBoardBurgundy.png">
                <img src="assets/ZeeNYBoardBurgundy.png" alt="Board: Burgundy" />
                <figcaption class="tag" contenteditable="true">UNE QUESTION DE GOÛT</figcaption>
              </figure>
            </div>
          </div>
        </section>

        <!-- PAGE 3: Good times + coquette -->
        <section class="page" data-title="Good Times">
          <div class="panel">
            <div class="boardGrid">
              <figure class="board w8 h5" data-src="assets/ZeeNYBoardGoodTimes.png">
                <img src="assets/ZeeNYBoardGoodTimes.png" alt="Board: The good times" />
                <figcaption class="tag" contenteditable="true">THE GOOD TIMES :)</figcaption>
              </figure>

              <figure class="board w4 h5" data-src="assets/ZeeNYBoardCoquette.png">
                <img src="assets/ZeeNYBoardCoquette.png" alt="Board: La vie en rose" />
                <figcaption class="tag" contenteditable="true">LA VIE EN ROSE</figcaption>
              </figure>
            </div>
          </div>
        </section>

        <!-- PAGE 4: End -->
        <section class="page" data-title="End">
          <div class="panel">
            <div class="titleCard">
              <div>
                <h1 class="big" contenteditable="true">End of file.</h1>
                <div class="small" contenteditable="true">
                  Add a final one-liner here.<br/>
                  Optional: “Open anytime.”
                </div>
                <div class="startPill" contenteditable="true">← Back</div>
              </div>
            </div>
          </div>
        </section>

      </div>

      <!-- Left/Right arrows for navigation -->
      <button class="navArrow left" id="leftArrow" aria-label="Previous page">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M15 18l-6-6 6-6"/></svg>
      </button>

      <button class="navArrow right" id="rightArrow" aria-label="Next page">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M9 6l6 6-6 6"/></svg>
      </button>

      <!-- Optional progress pill (remove if you want absolutely no UI) -->
      <div class="cornerProg" id="cornerProg">1 / 4</div>
    </section>
  </main>

  <!-- Zoom overlay -->
  <div class="overlay" id="overlay" aria-hidden="true"></div>

  <script>
    // =========================
    // Page navigation (arrows + keys)
    // =========================
    const pages = Array.from(document.querySelectorAll('.page'));
    const totalPages = pages.length;
    let pageIdx = 0;
    let pageAnimating = false;

    const leftArrow = document.getElementById('leftArrow');
    const rightArrow = document.getElementById('rightArrow');
    const cornerProg = document.getElementById('cornerProg');

    function updateNavUI(){
      leftArrow.toggleAttribute('disabled', pageIdx === 0);
      rightArrow.toggleAttribute('disabled', pageIdx === totalPages - 1);
      if (cornerProg) cornerProg.textContent = `${pageIdx + 1} / ${totalPages}`;
    }

    function goToPage(next){
      if(pageAnimating) return;
      if(next === pageIdx) return;
      if(next < 0 || next >= totalPages) return;

      pageAnimating = true;

      const current = pages[pageIdx];
      const incoming = pages[next];

      current.classList.remove('active');
      current.classList.add('exiting');

      incoming.classList.add('active');

      window.setTimeout(() => {
        current.classList.remove('exiting');
        pageIdx = next;
        updateNavUI();
        pageAnimating = false;
      }, 560);
    }

    function nextPage(){ goToPage(Math.min(totalPages - 1, pageIdx + 1)); }
    function prevPage(){ goToPage(Math.max(0, pageIdx - 1)); }

    leftArrow.addEventListener('click', prevPage);
    rightArrow.addEventListener('click', nextPage);

    window.addEventListener('keydown', (e) => {
      // don't hijack typing
      const a = document.activeElement;
      const tag = (a && a.tagName ? a.tagName.toLowerCase() : '');
      if(tag === 'textarea') return;

      if(e.key === 'ArrowRight' || e.key === 'PageDown') nextPage();
      if(e.key === 'ArrowLeft'  || e.key === 'PageUp') prevPage();
      if(e.key === 'Home') goToPage(0);
      if(e.key === 'End') goToPage(totalPages - 1);
    });

    updateNavUI();

    // =========================
    // Board zoom (pick up + zoom)
    // =========================
    const overlay = document.getElementById('overlay');
    let zoomEl = null;
    let zoomFromRect = null;
    let zoomOpen = false;

    function openZoom(imgEl){
      if(zoomOpen) return;

      const board = imgEl.closest('.board');
      const src = board?.dataset?.src || imgEl.src;
      const rect = imgEl.getBoundingClientRect();
      zoomFromRect = rect;

      zoomEl = document.createElement('div');
      zoomEl.className = 'zoomImg';
      zoomEl.style.top = rect.top + 'px';
      zoomEl.style.left = rect.left + 'px';
      zoomEl.style.width = rect.width + 'px';
      zoomEl.style.height = rect.height + 'px';
      zoomEl.style.transform = 'translateZ(0)';
      zoomEl.innerHTML = `<img src="${src}" alt="Zoomed board" />`;
      document.body.appendChild(zoomEl);

      overlay.classList.add('open');
      overlay.setAttribute('aria-hidden','false');
      zoomOpen = true;

      const pad = 34;
      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const maxW = vw - pad * 2;
      const maxH = vh - pad * 2;

      // approximate ratio, then refine after load
      let ratio = rect.width / rect.height;
      let w = Math.min(maxW, maxH * ratio);
      let h = w / ratio;
      if(h > maxH){ h = maxH; w = h * ratio; }

      const top = (vh - h) / 2;
      const left = (vw - w) / 2;

      requestAnimationFrame(() => {
        zoomEl.style.top = top + 'px';
        zoomEl.style.left = left + 'px';
        zoomEl.style.width = w + 'px';
        zoomEl.style.height = h + 'px';
      });

      const zimg = zoomEl.querySelector('img');
      zimg.addEventListener('load', () => {
        const ir = zimg.naturalWidth / zimg.naturalHeight;
        let ww = Math.min(maxW, maxH * ir);
        let hh = ww / ir;
        if(hh > maxH){ hh = maxH; ww = hh * ir; }
        const tt = (vh - hh) / 2;
        const ll = (vw - ww) / 2;
        zoomEl.style.top = tt + 'px';
        zoomEl.style.left = ll + 'px';
        zoomEl.style.width = ww + 'px';
        zoomEl.style.height = hh + 'px';
      }, { once: true });

      zoomEl.addEventListener('click', closeZoom);
    }

    function closeZoom(){
      if(!zoomOpen || !zoomEl || !zoomFromRect) return;

      overlay.classList.remove('open');
      overlay.setAttribute('aria-hidden','true');

      zoomEl.style.top = zoomFromRect.top + 'px';
      zoomEl.style.left = zoomFromRect.left + 'px';
      zoomEl.style.width = zoomFromRect.width + 'px';
      zoomEl.style.height = zoomFromRect.height + 'px';

      window.setTimeout(() => {
        if(zoomEl){
          zoomEl.remove();
          zoomEl = null;
        }
        zoomOpen = false;
        zoomFromRect = null;
      }, 560);
    }

    overlay.addEventListener('click', closeZoom);
    window.addEventListener('keydown', (e) => {
      if(e.key === 'Escape') closeZoom();
    });

    document.querySelectorAll('.board img').forEach(img => {
      img.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        openZoom(img);
      });
    });

    window.addEventListener('resize', () => {
      if(zoomOpen) closeZoom();
    });
  </script>
</body>
</html>
