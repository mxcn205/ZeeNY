<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Scrapbook Wrapped</title>

  <style>
    :root{
      /* Solid pink background for now */
      --bg: #f7c7d9;

      --ink: rgba(25, 18, 22, 0.92);
      --muted: rgba(25, 18, 22, 0.62);

      --paper: rgba(255,255,255,0.66);
      --paper2: rgba(255,255,255,0.42);
      --border: rgba(25, 18, 22, 0.12);

      --shadow: 0 24px 70px rgba(0,0,0,0.22);
      --shadow2: 0 18px 40px rgba(0,0,0,0.18);

      --radius-xl: 26px;
      --radius-lg: 18px;
      --radius-md: 14px;

      --maxw: 1100px;
      --ease: cubic-bezier(.22, 1, .36, 1);
      --t: 520ms;
    }

    *{ box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin: 0;
      background: var(--bg);
      color: var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      overflow: hidden;
    }

    /* subtle paper-y overlay (still works even on solid bg) */
    .paperWash{
      pointer-events: none;
      position: fixed;
      inset: 0;
      background:
        radial-gradient(1200px 700px at 18% 10%, rgba(255,255,255,0.26), transparent 60%),
        radial-gradient(900px 700px at 85% 15%, rgba(255,255,255,0.18), transparent 55%),
        radial-gradient(700px 600px at 55% 90%, rgba(255,255,255,0.16), transparent 60%);
      mix-blend-mode: soft-light;
      opacity: 0.7;
    }

    .app{
      height: 100%;
      display: grid;
      place-items: center;
      padding: 16px;
    }

    .frame{
      width: min(var(--maxw), 100%);
      height: min(760px, calc(100vh - 120px));
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      background: rgba(255,255,255,0.22);
      box-shadow: var(--shadow);
      overflow: hidden;
      position: relative;
      backdrop-filter: blur(10px);
    }

    /* Header */
    .topbar{
      position: absolute;
      inset: 0 0 auto 0;
      height: 58px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 12px 14px;
      border-bottom: 1px solid rgba(25, 18, 22, 0.10);
      background: linear-gradient(180deg, rgba(255,255,255,0.44), rgba(255,255,255,0.18));
      z-index: 10;
    }

    .brand{
      display: flex;
      flex-direction: column;
      gap: 2px;
      min-width: 220px;
    }
    .brand .title{
      font-weight: 800;
      letter-spacing: -0.2px;
      font-size: 14px;
      line-height: 1.1;
    }
    .brand .sub{
      font-size: 12px;
      color: var(--muted);
    }

    .controls{
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn{
      border: 1px solid rgba(25, 18, 22, 0.16);
      background: rgba(255,255,255,0.42);
      color: var(--ink);
      padding: 9px 12px;
      border-radius: 999px;
      cursor: pointer;
      font-weight: 750;
      font-size: 12px;
      transition: transform 140ms ease, background 140ms ease, border-color 140ms ease;
      user-select: none;
    }
    .btn:hover{
      background: rgba(255,255,255,0.58);
      border-color: rgba(25, 18, 22, 0.22);
    }
    .btn:active{ transform: translateY(1px) scale(0.99); }

    .slides{
      position: absolute;
      inset: 58px 0 0 0;
      height: calc(100% - 58px);
      overflow: hidden;
    }

    /* Page/Section transitions (page lift) */
    .page{
      position: absolute;
      inset: 0;
      padding: 18px;
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: 12px;

      opacity: 0;
      transform: translateY(18px) scale(0.985);
      filter: blur(2px);
      pointer-events: none;

      transition:
        opacity var(--t) var(--ease),
        transform var(--t) var(--ease),
        filter var(--t) var(--ease);
    }

    .page.active{
      opacity: 1;
      transform: translateY(0) scale(1);
      filter: blur(0);
      pointer-events: auto;
    }

    .page.exiting{
      opacity: 0;
      transform: translateY(-16px) scale(0.985);
      filter: blur(2px);
      pointer-events: none;
    }

    .phead{
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 10px;
    }

    .phead .hgroup{
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .ptitle{
      margin: 0;
      font-size: 26px;
      letter-spacing: -0.8px;
      line-height: 1.06;
      font-weight: 900;
    }
    .pkicker{
      margin: 0;
      color: var(--muted);
      font-size: 13px;
      max-width: 70ch;
      line-height: 1.35;
    }

    .chip{
      border: 1px solid rgba(25, 18, 22, 0.14);
      background: rgba(255,255,255,0.38);
      padding: 7px 10px;
      border-radius: 999px;
      font-size: 12px;
      color: rgba(25, 18, 22, 0.86);
      user-select: none;
      white-space: nowrap;
    }

    /* Content area */
    .panel{
      border: 1px solid rgba(25, 18, 22, 0.12);
      background: rgba(255,255,255,0.30);
      border-radius: var(--radius-xl);
      padding: 14px;
      box-shadow: var(--shadow2);
      overflow: hidden;
      min-height: 0;
    }

    /* Board layout (mixed aspect ratios) */
    .boardGrid{
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(12, 1fr);
      grid-auto-rows: 110px;
      height: 100%;
      min-height: 0;
    }

    /* Responsive grid */
    @media (max-width: 980px){
      .frame{ height: min(820px, calc(100vh - 120px)); }
      .ptitle{ font-size: 22px; }
      .page{ padding: 14px; }
      .boardGrid{ grid-auto-rows: 96px; }
    }
    @media (max-width: 640px){
      .brand{ min-width: 150px; }
      .boardGrid{ grid-auto-rows: 88px; }
    }

    .board{
      grid-column: span 6;
      grid-row: span 3;

      position: relative;
      border-radius: var(--radius-lg);
      overflow: hidden;
      border: 1px solid rgba(25, 18, 22, 0.12);
      background: rgba(255,255,255,0.24);
      cursor: zoom-in;

      transform: translateZ(0);
      transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
    }
    .board:hover{
      transform: translateY(-2px);
      box-shadow: 0 14px 34px rgba(0,0,0,0.18);
      border-color: rgba(25, 18, 22, 0.20);
    }

    /* Size variants */
    .w5{ grid-column: span 5; }
    .w6{ grid-column: span 6; }
    .w7{ grid-column: span 7; }
    .w8{ grid-column: span 8; }
    .h3{ grid-row: span 3; }
    .h4{ grid-row: span 4; }
    .h5{ grid-row: span 5; }

    /* Make it mobile-friendly: stack */
    @media (max-width: 760px){
      .board{ grid-column: span 12 !important; grid-row: span 4 !important; }
      .boardGrid{ grid-auto-rows: 86px; }
    }

    .board img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .board .tag{
      position: absolute;
      left: 10px;
      bottom: 10px;
      font-size: 12px;
      font-weight: 800;
      letter-spacing: -0.2px;
      color: rgba(25,18,22,0.92);
      background: rgba(255,255,255,0.70);
      border: 1px solid rgba(25, 18, 22, 0.10);
      padding: 7px 10px;
      border-radius: 999px;
      backdrop-filter: blur(8px);
      user-select: none;
    }

    /* Footer nav */
    .footer{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      user-select: none;
    }

    .dots{
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    .dot{
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: rgba(25, 18, 22, 0.18);
      border: 1px solid rgba(25, 18, 22, 0.12);
      cursor: pointer;
      transition: transform 150ms ease, background 150ms ease;
    }
    .dot.active{
      background: rgba(25, 18, 22, 0.78);
      transform: scale(1.25);
    }

    .progress{
      font-size: 12px;
      color: var(--muted);
      min-width: 92px;
      text-align: right;
    }

    /* ================
       Board Zoom Modal
       ================ */
    .overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.00); /* animated to subtle */
      opacity: 0;
      pointer-events: none;
      transition: opacity 260ms ease, background 260ms ease;
      z-index: 1000;
    }
    .overlay.open{
      opacity: 1;
      pointer-events: auto;
      background: rgba(0,0,0,0.10); /* subtle highlight */
    }

    /* The animated “picked up” element */
    .zoomImg{
      position: fixed;
      z-index: 1001;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: 0 34px 90px rgba(0,0,0,0.30);
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.08);

      will-change: transform, width, height, top, left;
      transition:
        top 520ms var(--ease),
        left 520ms var(--ease),
        width 520ms var(--ease),
        height 520ms var(--ease),
        transform 520ms var(--ease);
      cursor: zoom-out;
    }
    .zoomImg img{
      width: 100%;
      height: 100%;
      object-fit: contain; /* show full board when zoomed */
      display: block;
      background: rgba(0,0,0,0.06);
    }

    /* subtle instruction */
    .hint{
      width: min(var(--maxw), 100%);
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      gap: 12px;
      padding: 0 4px;
      color: rgba(25,18,22,0.58);
      font-size: 12px;
      user-select: none;
    }

    /* Title page styling */
    .titleCard{
      height: 100%;
      display: grid;
      place-items: center;
      text-align: center;
      padding: 18px;
    }
    .titleCard .big{
      font-size: clamp(34px, 5vw, 56px);
      font-weight: 950;
      letter-spacing: -1.4px;
      line-height: 1.02;
      margin: 0;
    }
    .titleCard .small{
      margin-top: 10px;
      font-size: 13px;
      color: var(--muted);
      line-height: 1.5;
      max-width: 70ch;
    }
    .titleCard .startPill{
      margin-top: 18px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,0.54);
      border: 1px solid rgba(25, 18, 22, 0.12);
      color: rgba(25,18,22,0.86);
      font-weight: 850;
      font-size: 12px;
      user-select: none;
    }
  </style>
</head>

<body>
  <div class="paperWash"></div>

  <div class="app">
    <div class="frame" id="frame">
      <div class="topbar">
        <div class="brand">
          <div class="title" contenteditable="true">2025, Wrapped</div>
          <div class="sub" contenteditable="true">a scrapbook you can click into</div>
        </div>
        <div class="controls">
          <button class="btn" id="prevBtn">← Prev</button>
          <button class="btn" id="nextBtn">Next →</button>
        </div>
      </div>

      <div class="slides" id="slides">
        <!-- PAGE 1: Title -->
        <section class="page active" data-title="Cover">
          <div class="phead">
            <div class="hgroup">
              <h2 class="ptitle" contenteditable="true">Some things, collected.</h2>
              <p class="pkicker" contenteditable="true">
                Click any board to zoom in. Use ← → to turn pages.
              </p>
            </div>
            <div class="chip">Cover</div>
          </div>

          <div class="panel">
            <div class="titleCard">
              <div>
                <h1 class="big" contenteditable="true">2025<br/>Wrapped</h1>
                <div class="small" contenteditable="true">
                  Each page is a theme. Each board is a little “kept” moment.<br/>
                  (You can customize this text.)
                </div>
                <div class="startPill" contenteditable="true">Press Next → to begin</div>
              </div>
            </div>
          </div>

          <div class="footer">
            <div class="dots"></div>
            <div class="progress"></div>
          </div>
        </section>

        <!-- PAGE 2: Style / Burgundy -->
        <section class="page" data-title="Style Notes">
          <div class="phead">
            <div class="hgroup">
              <h2 class="ptitle" contenteditable="true">Style notes</h2>
              <p class="pkicker" contenteditable="true">
                A page for “taste” — click a board to pick it up.
              </p>
            </div>
            <div class="chip" contenteditable="true">Page 1</div>
          </div>

          <div class="panel">
            <div class="boardGrid">
              <figure class="board w7 h5" data-src="assets/ZeeNYBoardVogue.png" data-label="(edit label)">
                <img src="assets/ZeeNYBoardVogue.png" alt="Board: Vogue" />
                <figcaption class="tag" contenteditable="true">EN NOIR</figcaption>
              </figure>

              <figure class="board w5 h5" data-src="assets/ZeeNYBoardBurgundy.png" data-label="(edit label)">
                <img src="assets/ZeeNYBoardBurgundy.png" alt="Board: Burgundy" />
                <figcaption class="tag" contenteditable="true">UNE QUESTION DE GOÛT</figcaption>
              </figure>
            </div>
          </div>

          <div class="footer">
            <div class="dots"></div>
            <div class="progress"></div>
          </div>
        </section>

        <!-- PAGE 3: The good times -->
        <section class="page" data-title="Good Times">
          <div class="phead">
            <div class="hgroup">
              <h2 class="ptitle" contenteditable="true">The good times :)</h2>
              <p class="pkicker" contenteditable="true">
                Photos like a page you’d tape in — not a timeline, just a feeling.
              </p>
            </div>
            <div class="chip" contenteditable="true">Page 2</div>
          </div>

          <div class="panel">
            <div class="boardGrid">
              <figure class="board w8 h5" data-src="assets/ZeeNYBoardGoodTimes.png">
                <img src="assets/ZeeNYBoardGoodTimes.png" alt="Board: The good times" />
                <figcaption class="tag" contenteditable="true">GOOD TIMES</figcaption>
              </figure>

              <figure class="board w4 h5" data-src="assets/ZeeNYBoardCoquette.png">
                <img src="assets/ZeeNYBoardCoquette.png" alt="Board: La vie en rose" />
                <figcaption class="tag" contenteditable="true">LA VIE EN ROSE</figcaption>
              </figure>
            </div>
          </div>

          <div class="footer">
            <div class="dots"></div>
            <div class="progress"></div>
          </div>
        </section>

        <!-- PAGE 4: End -->
        <section class="page" data-title="End">
          <div class="phead">
            <div class="hgroup">
              <h2 class="ptitle" contenteditable="true">That’s the wrap.</h2>
              <p class="pkicker" contenteditable="true">
                Keep it simple. Keep it yours.
              </p>
            </div>
            <div class="chip">End</div>
          </div>

          <div class="panel">
            <div class="titleCard">
              <div>
                <h1 class="big" contenteditable="true">End of file.</h1>
                <div class="small" contenteditable="true">
                  (Write a final one-liner here.)<br/>
                  Optional: “Open anytime.”
                </div>
                <div class="startPill" contenteditable="true">Press ← to revisit pages</div>
              </div>
            </div>
          </div>

          <div class="footer">
            <div class="dots"></div>
            <div class="progress"></div>
          </div>
        </section>
      </div>
    </div>

    <div class="hint">
      <div>Navigation: ← → keys • click dots • click boards to zoom</div>
      <div>Tip: edit any text directly on the page</div>
    </div>
  </div>

  <!-- Zoom overlay -->
  <div class="overlay" id="overlay" aria-hidden="true"></div>

  <script>
    // =========================
    // Page navigation (page lift)
    // =========================
    const pages = Array.from(document.querySelectorAll('.page'));
    const totalPages = pages.length;
    let pageIdx = 0;
    let pageAnimating = false;

    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    function syncFooter(){
      pages.forEach((p, i) => {
        const dotsWrap = p.querySelector('.dots');
        const prog = p.querySelector('.progress');
        if(!dotsWrap) return;
        dotsWrap.innerHTML = '';
        for(let k = 0; k < totalPages; k++){
          const d = document.createElement('div');
          d.className = 'dot' + (k === i ? ' active' : '');
          d.title = `Go to page ${k+1}`;
          d.addEventListener('click', () => goToPage(k));
          dotsWrap.appendChild(d);
        }
        if(prog) prog.textContent = `${i+1} / ${totalPages}`;
      });
      setDotStates(pageIdx);
    }

    function setDotStates(active){
      pages.forEach(p => {
        p.querySelectorAll('.dot').forEach((d, k) => {
          d.classList.toggle('active', k === active);
        });
      });
    }

    function goToPage(next){
      if(pageAnimating) return;
      if(next === pageIdx) return;
      if(next < 0 || next >= totalPages) return;

      pageAnimating = true;
      const current = pages[pageIdx];
      const incoming = pages[next];

      current.classList.remove('active');
      current.classList.add('exiting');

      incoming.classList.add('active');

      window.setTimeout(() => {
        current.classList.remove('exiting');
        pageIdx = next;
        setDotStates(pageIdx);
        pageAnimating = false;
      }, 560);
    }

    function nextPage(){ goToPage(Math.min(totalPages - 1, pageIdx + 1)); }
    function prevPage(){ goToPage(Math.max(0, pageIdx - 1)); }

    prevBtn.addEventListener('click', prevPage);
    nextBtn.addEventListener('click', nextPage);

    window.addEventListener('keydown', (e) => {
      // don’t hijack typing
      const a = document.activeElement;
      const tag = (a && a.tagName ? a.tagName.toLowerCase() : '');
      if(tag === 'textarea') return;

      if(e.key === 'ArrowRight' || e.key === 'PageDown') nextPage();
      if(e.key === 'ArrowLeft' || e.key === 'PageUp') prevPage();
      if(e.key === 'Home') goToPage(0);
      if(e.key === 'End') goToPage(totalPages - 1);
    });

    syncFooter();

    // =========================
    // Board zoom (pick up + zoom)
    // =========================
    const overlay = document.getElementById('overlay');
    let zoomEl = null;
    let zoomFromRect = null;
    let zoomOpen = false;

    function openZoom(imgEl){
      if(zoomOpen) return;

      const src = imgEl.closest('.board')?.dataset?.src || imgEl.src;
      const rect = imgEl.getBoundingClientRect();
      zoomFromRect = rect;

      // Create floating element positioned over thumbnail
      zoomEl = document.createElement('div');
      zoomEl.className = 'zoomImg';
      zoomEl.style.top = rect.top + 'px';
      zoomEl.style.left = rect.left + 'px';
      zoomEl.style.width = rect.width + 'px';
      zoomEl.style.height = rect.height + 'px';
      zoomEl.style.transform = 'translateZ(0)';

      zoomEl.innerHTML = `<img src="${src}" alt="Zoomed board" />`;
      document.body.appendChild(zoomEl);

      // Open overlay
      overlay.classList.add('open');
      overlay.setAttribute('aria-hidden','false');
      zoomOpen = true;

      // Target size: fit within viewport with margins
      const pad = 34;
      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const maxW = vw - pad * 2;
      const maxH = vh - pad * 2;

      // We don't know intrinsic ratio reliably right away; approximate from rect ratio,
      // then adjust after image loads.
      let ratio = rect.width / rect.height;
      let w = Math.min(maxW, maxH * ratio);
      let h = w / ratio;
      if(h > maxH){ h = maxH; w = h * ratio; }

      const top = (vh - h) / 2;
      const left = (vw - w) / 2;

      // Animate to center next frame
      requestAnimationFrame(() => {
        zoomEl.style.top = top + 'px';
        zoomEl.style.left = left + 'px';
        zoomEl.style.width = w + 'px';
        zoomEl.style.height = h + 'px';
      });

      // After image loads, re-fit using actual ratio (prevents distortion if needed)
      const zimg = zoomEl.querySelector('img');
      zimg.addEventListener('load', () => {
        const ir = zimg.naturalWidth / zimg.naturalHeight;
        let ww = Math.min(maxW, maxH * ir);
        let hh = ww / ir;
        if(hh > maxH){ hh = maxH; ww = hh * ir; }
        const tt = (vh - hh) / 2;
        const ll = (vw - ww) / 2;
        zoomEl.style.top = tt + 'px';
        zoomEl.style.left = ll + 'px';
        zoomEl.style.width = ww + 'px';
        zoomEl.style.height = hh + 'px';
      }, { once: true });

      // Click to close
      zoomEl.addEventListener('click', closeZoom);
    }

    function closeZoom(){
      if(!zoomOpen || !zoomEl || !zoomFromRect) return;

      overlay.classList.remove('open');
      overlay.setAttribute('aria-hidden','true');

      // Animate back to original thumb position
      zoomEl.style.top = zoomFromRect.top + 'px';
      zoomEl.style.left = zoomFromRect.left + 'px';
      zoomEl.style.width = zoomFromRect.width + 'px';
      zoomEl.style.height = zoomFromRect.height + 'px';

      // Remove after transition
      window.setTimeout(() => {
        if(zoomEl){
          zoomEl.remove();
          zoomEl = null;
        }
        zoomOpen = false;
        zoomFromRect = null;
      }, 560);
    }

    overlay.addEventListener('click', closeZoom);
    window.addEventListener('keydown', (e) => {
      if(e.key === 'Escape') closeZoom();
    });

    // Attach click handlers to boards
    document.querySelectorAll('.board img').forEach(img => {
      img.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        openZoom(img);
      });
    });

    // Keep zoom centered on resize
    window.addEventListener('resize', () => {
      if(!zoomOpen || !zoomEl) return;
      // Close on resize for simplicity (avoids weird rect mapping)
      closeZoom();
    });
  </script>
</body>
</html>
